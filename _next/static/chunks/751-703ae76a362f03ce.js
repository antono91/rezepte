"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[751],{6463:function(e,t,n){var i=n(1169);n.o(i,"useParams")&&n.d(t,{useParams:function(){return i.useParams}}),n.o(i,"usePathname")&&n.d(t,{usePathname:function(){return i.usePathname}}),n.o(i,"useRouter")&&n.d(t,{useRouter:function(){return i.useRouter}})},9189:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{cancelIdleCallback:function(){return i},requestIdleCallback:function(){return n}});let n="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},i="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},291:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return i}});let i=n(9920)._(n(2265)).default.createContext(null)},1014:function(e,t,n){n.d(t,{F:function(){return l}});var i=n(9343);let r=(e,t,n)=>{if(e&&"reportValidity"in e){let r=(0,i.U2)(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},s=(e,t)=>{for(let n in t.fields){let i=t.fields[n];i&&i.ref&&"reportValidity"in i.ref?r(i.ref,n,e):i.refs&&i.refs.forEach(t=>r(t,n,e))}},a=(e,t)=>{t.shouldUseNativeValidation&&s(e,t);let n={};for(let r in e){let s=(0,i.U2)(t.fields,r),a=Object.assign(e[r]||{},{ref:s&&s.ref});if(u(t.names||Object.keys(e),r)){let e=Object.assign({},(0,i.U2)(n,r));(0,i.t8)(e,"root",a),(0,i.t8)(n,r,e)}else(0,i.t8)(n,r,a)}return n},u=(e,t)=>e.some(e=>e.startsWith(t+"."));var o=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,a=r.message,u=r.path.join(".");if(!n[u]){if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[u]={message:o.message,type:o.code}}else n[u]={message:a,type:s}}if("unionErrors"in r&&r.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=n[u].types,c=l&&l[r.code];n[u]=(0,i.KN)(u,t,n,s,c?[].concat(c,r.message):r.message)}e.shift()}return n},l=function(e,t,n){return void 0===n&&(n={}),function(i,r,u){try{return Promise.resolve(function(r,a){try{var o=Promise.resolve(e["sync"===n.mode?"parse":"parseAsync"](i,t)).then(function(e){return u.shouldUseNativeValidation&&s({},u),{errors:{},values:n.raw?i:e}})}catch(e){return a(e)}return o&&o.then?o.then(void 0,a):o}(0,function(e){if(Array.isArray(null==e?void 0:e.errors))return{values:{},errors:a(o(e.errors,!u.shouldUseNativeValidation&&"all"===u.criteriaMode),u)};throw e}))}catch(e){return Promise.reject(e)}}}},7864:function(e,t,n){n.d(t,{L:function(){return r}});var i=n(9063);class r{static [i.Q]="ColumnBuilder";config;constructor(e,t,n){this.config={name:e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}}},1605:function(e,t,n){n.d(t,{s:function(){return r}});var i=n(9063);class r{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}static [i.Q]="Column";name;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}},9063:function(e,t,n){n.d(t,{Q:function(){return i},is:function(){return r}});let i=Symbol.for("drizzle:entityKind");function r(e,t){if(!e||"object"!=typeof e)return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,i))throw Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=e.constructor;if(n)for(;n;){if(i in n&&n[i]===t[i])return!0;n=Object.getPrototypeOf(n)}return!1}Symbol.for("drizzle:hasOwnEntityKind")},5016:function(e,t,n){n.d(t,{df:function(){return p},b1:function(){return g}});var i=n(7864),r=n(1605),s=n(9063),a=n(7755);class u{static [s.Q]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{let{name:t,columns:n,foreignColumns:i}=e();return{name:t,columns:n,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new o(e,this)}}class o{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [s.Q]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:n}=this.reference(),i=t.map(e=>e.name),r=n.map(e=>e.name),s=[this.table[a.YA.Symbol.Name],...i,n[0].table[a.YA.Symbol.Name],...r];return e??`${s.join("_")}_fk`}}var l=n(1678);function c(e,t){return`${e[a.YA.Symbol.Name]}_${t.join("_")}_unique`}class h{constructor(e,t){this.name=t,this.columns=e}static [s.Q]=null;columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new m(e,this.columns,this.nullsNotDistinctConfig,this.name)}}class f{static [s.Q]=null;name;constructor(e){this.name=e}on(...e){return new h(e,this.name)}}class m{constructor(e,t,n,i){this.table=e,this.columns=t,this.name=i??c(this.table,this.columns.map(e=>e.name)),this.nullsNotDistinct=n}static [s.Q]=null;columns;name;nullsNotDistinct=!1;getName(){return this.name}}function d(e,t,n){for(let i=t;i<e.length;i++){let r=e[i];if("\\"===r){i++;continue}if('"'===r)return[e.slice(t,i).replace(/\\/g,""),i+1];if(!n&&(","===r||"}"===r))return[e.slice(t,i).replace(/\\/g,""),i]}return[e.slice(t).replace(/\\/g,""),e.length]}class g extends i.L{foreignKeyConfigs=[];static [s.Q]="PgColumnBuilder";array(e){return new S(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>(0,l.t)((n,i)=>{let r=new u(()=>({columns:[e],foreignColumns:[n()]}));return i.onUpdate&&r.onUpdate(i.onUpdate),i.onDelete&&r.onDelete(i.onDelete),r.build(t)},n,i))}buildExtraConfigColumn(e){return new y(e,this.config)}}class p extends r.s{constructor(e,t){t.uniqueName||(t.uniqueName=c(e,[t.name])),super(e,t),this.table=e}static [s.Q]="PgColumn"}class y extends p{static [s.Q]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class b{static [s.Q]=null;constructor(e,t,n){this.name=e,this.type=t,this.indexConfig=n}name;type;indexConfig}class S extends g{static [s.Q]="PgArrayBuilder";constructor(e,t,n){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=n}build(e){let t=this.config.baseBuilder.build(e);return new Q(e,this.config,t)}}class Q extends p{constructor(e,t,n,i){super(e,t),this.baseColumn=n,this.range=i,this.size=t.size}size;static [s.Q]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=function(e){let[t]=function e(t,n=0){let i=[],r=n,s=!1;for(;r<t.length;){let a=t[r];if(","===a){(s||r===n)&&i.push(""),s=!0,r++;continue}if(s=!1,"\\"===a){r+=2;continue}if('"'===a){let[e,n]=d(t,r+1,!0);i.push(e),r=n;continue}if("}"===a)return[i,r+1];if("{"===a){let[n,s]=e(t,r+1);i.push(n),r=s;continue}let[u,o]=d(t,r,!1);i.push(u),r=o}return[i,r]}(e,1);return t}(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(e,t=!1){let n=e.map(e=>null===e?null:(0,s.is)(this.baseColumn,Q)?this.baseColumn.mapToDriverValue(e,!0):this.baseColumn.mapToDriverValue(e));return t?n:function e(t){return`{${t.map(t=>Array.isArray(t)?e(t):"string"==typeof t?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}(n)}}},3157:function(e,t,n){n.d(t,{uR:function(){return u}});var i=n(9063),r=n(5016);class s extends r.b1{static [i.Q]="PgNumericBuilder";constructor(e,t,n){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=n}build(e){return new a(e,this.config)}}class a extends r.df{static [i.Q]="PgNumeric";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function u(e,t){return new s(e,t?.precision,t?.scale)}},1333:function(e,t,n){n.d(t,{fL:function(){return u}});var i=n(9063),r=n(5016);class s extends r.b1{static [i.Q]="PgTextBuilder";constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new a(e,this.config)}}class a extends r.df{static [i.Q]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function u(e,t={}){return new s(e,t)}},7755:function(e,t,n){n.d(t,{YA:function(){return a},af:function(){return u}});var i=n(9063),r=n(5131);let s=Symbol.for("drizzle:PgInlineForeignKeys");class a extends r.iA{static [i.Q]="PgTable";static Symbol=Object.assign({},r.iA.Symbol,{InlineForeignKeys:s});[s]=[];[r.iA.Symbol.ExtraConfigBuilder]=void 0}let u=(e,t,n)=>(function(e,t,n,i,u=e){let o=new a(e,i,u),l=Object.fromEntries(Object.entries(t).map(([e,t])=>{let n=t.build(o);return o[s].push(...t.buildForeignKeys(n,o)),[e,n]})),c=Object.fromEntries(Object.entries(t).map(([e,t])=>[e,t.buildExtraConfigColumn(o)])),h=Object.assign(o,l);return h[r.iA.Symbol.Columns]=l,h[r.iA.Symbol.ExtraConfigColumns]=c,n&&(h[a.Symbol.ExtraConfigBuilder]=n),h})(e,t,n,void 0)},5131:function(e,t,n){n.d(t,{iA:function(){return f}});var i=n(9063);let r=Symbol.for("drizzle:Name"),s=Symbol.for("drizzle:Schema"),a=Symbol.for("drizzle:Columns"),u=Symbol.for("drizzle:ExtraConfigColumns"),o=Symbol.for("drizzle:OriginalName"),l=Symbol.for("drizzle:BaseName"),c=Symbol.for("drizzle:IsAlias"),h=Symbol.for("drizzle:ExtraConfigBuilder");Symbol.for("drizzle:IsDrizzleTable");class f{static [i.Q]="Table";static Symbol={Name:r,Schema:s,OriginalName:o,Columns:a,ExtraConfigColumns:u,BaseName:l,IsAlias:c,ExtraConfigBuilder:h};[r];[o];[s];[a];[u];[l];[c]=!1;[h]=void 0;constructor(e,t,n){this[r]=this[o]=e,this[s]=t,this[l]=n}}},1678:function(e,t,n){n.d(t,{t:function(){return i}});function i(e,...t){return e(...t)}},6701:function(e,t,n){let i,r;n.d(t,{fC:function(){return ep}});var s,a=n(5131),u=n(9063),o=n(7864),l=n(1605);let c=Symbol.for("drizzle:MySqlInlineForeignKeys");class h extends a.iA{static [u.Q]="MySqlTable";static Symbol=Object.assign({},a.iA.Symbol,{InlineForeignKeys:c});[a.iA.Symbol.Columns];[c]=[];[a.iA.Symbol.ExtraConfigBuilder]=void 0}class f{static [u.Q]="MySqlForeignKeyBuilder";reference;_onUpdate;_onDelete;constructor(e,t){this.reference=()=>{let{name:t,columns:n,foreignColumns:i}=e();return{name:t,columns:n,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=e,this}onDelete(e){return this._onDelete=e,this}build(e){return new m(e,this)}}class m{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [u.Q]="MySqlForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:n}=this.reference(),i=t.map(e=>e.name),r=n.map(e=>e.name),s=[this.table[h.Symbol.Name],...i,n[0].table[h.Symbol.Name],...r];return e??`${s.join("_")}_fk`}}function d(e,t){return`${e[h.Symbol.Name]}_${t.join("_")}_unique`}class g{constructor(e,t){this.name=t,this.columns=e}static [u.Q]=null;columns;build(e){return new y(e,this.columns,this.name)}}class p{static [u.Q]=null;name;constructor(e){this.name=e}on(...e){return new g(e,this.name)}}class y{constructor(e,t,n){this.table=e,this.columns=t,this.name=n??d(this.table,this.columns.map(e=>e.name))}static [u.Q]=null;columns;name;nullsNotDistinct=!1;getName(){return this.name}}class b extends o.L{static [u.Q]="MySqlColumnBuilder";foreignKeyConfigs=[];references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e){return this.config.isUnique=!0,this.config.uniqueName=e,this}generatedAlwaysAs(e,t){return this.config.generated={as:e,type:"always",mode:t?.mode??"virtual"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>((n,i)=>{let r=new f(()=>({columns:[e],foreignColumns:[n()]}));return i.onUpdate&&r.onUpdate(i.onUpdate),i.onDelete&&r.onDelete(i.onDelete),r.build(t)})(n,i))}}class S extends l.s{constructor(e,t){t.uniqueName||(t.uniqueName=d(e,[t.name])),super(e,t),this.table=e}static [u.Q]="MySqlColumn"}class Q extends b{static [u.Q]="MySqlColumnBuilderWithAutoIncrement";constructor(e,t,n){super(e,t,n),this.config.autoIncrement=!1}autoincrement(){return this.config.autoIncrement=!0,this.config.hasDefault=!0,this}}class v extends null{static [u.Q]=null;autoIncrement=this.config.autoIncrement}class C extends b{static [u.Q]="MySqlVarCharBuilder";constructor(e,t){super(e,"string","MySqlVarChar"),this.config.length=t.length,this.config.enum=t.enum}build(e){return new w(e,this.config)}}class w extends S{static [u.Q]="MySqlVarChar";length=this.config.length;enumValues=this.config.enum;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}class q extends b{static [u.Q]="MySqlVarBinaryBuilder";constructor(e,t){super(e,"string","MySqlVarBinary"),this.config.length=t?.length}build(e){return new x(e,this.config)}}class x extends S{static [u.Q]="MySqlVarBinary";length=this.config.length;getSQLType(){return void 0===this.length?"varbinary":`varbinary(${this.length})`}}class z extends b{static [u.Q]="MySqlCharBuilder";constructor(e,t){super(e,"string","MySqlChar"),this.config.length=t.length,this.config.enum=t.enum}build(e){return new D(e,this.config)}}class D extends S{static [u.Q]="MySqlChar";length=this.config.length;enumValues=this.config.enum;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}var N=n(5016);let P=Symbol.for("drizzle:isPgEnum");class T extends N.b1{static [u.Q]="PgEnumColumnBuilder";constructor(e,t){super(e,"string","PgEnumColumn"),this.config.enum=t}build(e){return new U(e,this.config)}}class U extends N.df{static [u.Q]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}class _{static [u.Q]="Subquery";constructor(e,t,n,i=!1){this._={brand:"Subquery",sql:e,selectedFields:t,alias:n,isWith:i}}}class A extends null{static [u.Q]=null}var V=n(1678);let L=(e,t)=>i?(r||(r=i.trace.getTracer("drizzle-orm","0.32.2")),(0,V.t)((n,i)=>i.startActiveSpan(e,e=>{try{return t(e)}catch(t){throw e.setStatus({code:n.SpanStatusCode.ERROR,message:t instanceof Error?t.message:"Unknown error"}),t}finally{e.end()}}),i,r)):t(),j=Symbol.for("drizzle:ViewBaseConfig");class F{static [u.Q]=null}class O{static [u.Q]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new I([this])}}class I{constructor(e){this.queryChunks=e}static [u.Q]="SQL";decoder=B;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return L("drizzle.buildSQL",t=>{let n=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,t){let n=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{escapeName:i,escapeParam:r,prepareTyping:s,inlineParams:o,paramStartIndex:c}=n;return function(e){let t={sql:"",params:[]};for(let n of e)t.sql+=n.sql,t.params.push(...n.params),n.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...n.typings));return t}(e.map(e=>{if((0,u.is)(e,O))return{sql:e.value.join(""),params:[]};if((0,u.is)(e,E))return{sql:i(e.value),params:[]};if(void 0===e)return{sql:"",params:[]};if(Array.isArray(e)){let t=[new O("(")];for(let[n,i]of e.entries())t.push(i),n<e.length-1&&t.push(new O(", "));return t.push(new O(")")),this.buildQueryFromSourceParams(t,n)}if((0,u.is)(e,I))return this.buildQueryFromSourceParams(e.queryChunks,{...n,inlineParams:o||e.shouldInlineParams});if((0,u.is)(e,a.iA)){let t=e[a.iA.Symbol.Schema],n=e[a.iA.Symbol.Name];return{sql:void 0===t?i(n):i(t)+"."+i(n),params:[]}}if((0,u.is)(e,l.s))return"indexes"===t.invokeSource?{sql:i(e.name),params:[]}:{sql:i(e.table[a.iA.Symbol.Name])+"."+i(e.name),params:[]};if((0,u.is)(e,R)){let t=e[j].schema,n=e[j].name;return{sql:void 0===t?i(n):i(t)+"."+i(n),params:[]}}if((0,u.is)(e,K)){let t=null===e.value?null:e.encoder.mapToDriverValue(e.value);if((0,u.is)(t,I))return this.buildQueryFromSourceParams([t],n);if(o)return{sql:this.mapInlineParam(t,n),params:[]};let i=["none"];return s&&(i=[s(e.encoder)]),{sql:r(c.value++,t),params:[t],typings:i}}return(0,u.is)(e,M)?{sql:r(c.value++,e),params:[e],typings:["none"]}:(0,u.is)(e,I.Aliased)&&void 0!==e.fieldAlias?{sql:i(e.fieldAlias),params:[]}:(0,u.is)(e,_)?e._.isWith?{sql:i(e._.alias),params:[]}:this.buildQueryFromSourceParams([new O("("),e._.sql,new O(") "),new E(e._.alias)],n):e&&"function"==typeof e&&P in e&&!0===e[P]?e.schema?{sql:i(e.schema)+"."+i(e.enumName),params:[]}:{sql:i(e.enumName),params:[]}:null!=e&&"function"==typeof e.getSQL?e.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([e.getSQL()],n):this.buildQueryFromSourceParams([new O("("),e.getSQL(),new O(")")],n):o?{sql:this.mapInlineParam(e,n),params:[]}:{sql:r(c.value++,e),params:[e],typings:["none"]}}))}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){let n=e.toString();return"[object Object]"===n?t(JSON.stringify(e)):t(n)}throw Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return void 0===e?this:new I.Aliased(this,e)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class E{constructor(e){this.value=e}static [u.Q]="Name";brand;getSQL(){return new I([this])}}let B={mapFromDriverValue:e=>e},$={mapToDriverValue:e=>e};({...B,...$});class K{constructor(e,t=$){this.value=e,this.encoder=t}static [u.Q]="Param";brand;getSQL(){return new I([this])}}function k(e,...t){let n=[];for(let[i,r]of((t.length>0||e.length>0&&""!==e[0])&&n.push(new O(e[0])),t.entries()))n.push(r,new O(e[i+1]));return new I(n)}(s=k||(k={})).empty=function(){return new I([])},s.fromList=function(e){return new I(e)},s.raw=function(e){return new I([new O(e)])},s.join=function(e,t){let n=[];for(let[i,r]of e.entries())i>0&&void 0!==t&&n.push(t),n.push(r);return new I(n)},s.identifier=function(e){return new E(e)},s.placeholder=function(e){return new M(e)},s.param=function(e,t){return new K(e,t)},(e=>{class t{constructor(e,t){this.sql=e,this.fieldAlias=t}static [u.Q]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(I||(I={}));class M{constructor(e){this.name=e}static [u.Q]="Placeholder";getSQL(){return new I([this])}}class R{static [u.Q]="View";[j];constructor({name:e,schema:t,selectedFields:n,query:i}){this[j]={name:e,originalName:e,schema:t,selectedFields:n,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new I([this])}}l.s.prototype.getSQL=function(){return new I([this])},a.iA.prototype.getSQL=function(){return new I([this])},_.prototype.getSQL=function(){return new I([this])};class J extends N.b1{static [u.Q]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(k`gen_random_uuid()`)}build(e){return new W(e,this.config)}}class W extends N.df{static [u.Q]="PgUUID";getSQLType(){return"uuid"}}class Y extends N.b1{static [u.Q]="PgCharBuilder";constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new G(e,this.config)}}class G extends N.df{static [u.Q]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}class H extends N.b1{static [u.Q]="PgVarcharBuilder";constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new X(e,this.config)}}class X extends N.df{static [u.Q]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}let Z=Symbol.for("drizzle:SQLiteInlineForeignKeys");class ee extends a.iA{static [u.Q]="SQLiteTable";static Symbol=Object.assign({},a.iA.Symbol,{InlineForeignKeys:Z});[a.iA.Symbol.Columns];[Z]=[];[a.iA.Symbol.ExtraConfigBuilder]=void 0}class et{static [u.Q]="SQLiteForeignKeyBuilder";reference;_onUpdate;_onDelete;constructor(e,t){this.reference=()=>{let{name:t,columns:n,foreignColumns:i}=e();return{name:t,columns:n,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=e,this}onDelete(e){return this._onDelete=e,this}build(e){return new en(e,this)}}class en{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [u.Q]="SQLiteForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:n}=this.reference(),i=t.map(e=>e.name),r=n.map(e=>e.name),s=[this.table[ee.Symbol.Name],...i,n[0].table[ee.Symbol.Name],...r];return e??`${s.join("_")}_fk`}}function ei(e,t){return`${e[ee.Symbol.Name]}_${t.join("_")}_unique`}class er{constructor(e,t){this.name=t,this.columns=e}static [u.Q]=null;columns;build(e){return new ea(e,this.columns,this.name)}}class es{static [u.Q]=null;name;constructor(e){this.name=e}on(...e){return new er(e,this.name)}}class ea{constructor(e,t,n){this.table=e,this.columns=t,this.name=n??ei(this.table,this.columns.map(e=>e.name))}static [u.Q]=null;columns;name;getName(){return this.name}}class eu extends o.L{static [u.Q]="SQLiteColumnBuilder";foreignKeyConfigs=[];references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e){return this.config.isUnique=!0,this.config.uniqueName=e,this}generatedAlwaysAs(e,t){return this.config.generated={as:e,type:"always",mode:t?.mode??"virtual"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>((n,i)=>{let r=new et(()=>({columns:[e],foreignColumns:[n()]}));return i.onUpdate&&r.onUpdate(i.onUpdate),i.onDelete&&r.onDelete(i.onDelete),r.build(t)})(n,i))}}class eo extends l.s{constructor(e,t){t.uniqueName||(t.uniqueName=ei(e,[t.name])),super(e,t),this.table=e}static [u.Q]="SQLiteColumn"}class el extends eu{static [u.Q]="SQLiteTextBuilder";constructor(e,t){super(e,"string","SQLiteText"),this.config.enumValues=t.enum,this.config.length=t.length}build(e){return new ec(e,this.config)}}class ec extends eo{static [u.Q]="SQLiteText";enumValues=this.config.enumValues;length=this.config.length;constructor(e,t){super(e,t)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}}class eh extends eu{static [u.Q]="SQLiteTextJsonBuilder";constructor(e){super(e,"json","SQLiteTextJson")}build(e){return new ef(e,this.config)}}class ef extends eo{static [u.Q]="SQLiteTextJson";getSQLType(){return"text"}mapFromDriverValue(e){return JSON.parse(e)}mapToDriverValue(e){return JSON.stringify(e)}}var em=n(9772);let ed=em.z.union([em.z.string(),em.z.number(),em.z.boolean(),em.z.null()]),eg=em.z.lazy(()=>em.z.union([ed,em.z.array(eg),em.z.record(eg)]));function ep(e,t){let n=Object.entries(e[a.iA.Symbol.Columns]),i=Object.fromEntries(n.map(([e,t])=>[e,function e(t){let n;if("enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0&&(n=t.enumValues.length?em.z.enum(t.enumValues):em.z.string()),!n){if((0,u.is)(t,W))n=em.z.string().uuid();else if("custom"===t.dataType)n=em.z.any();else if("json"===t.dataType)n=eg;else if("array"===t.dataType)n=em.z.array(e(t.baseColumn));else if("number"===t.dataType)n=em.z.number();else if("bigint"===t.dataType)n=em.z.bigint();else if("boolean"===t.dataType)n=em.z.boolean();else if("date"===t.dataType)n=em.z.date();else if("string"===t.dataType){let e=em.z.string();((0,u.is)(t,G)||(0,u.is)(t,X)||(0,u.is)(t,w)||(0,u.is)(t,x)||(0,u.is)(t,D)||(0,u.is)(t,ec))&&"number"==typeof t.length&&(e=e.max(t.length)),n=e}}return n||(n=em.z.any()),n}(t)]));for(let[e,r]of(t&&(i=Object.assign(i,Object.fromEntries(Object.entries(t).map(([e,t])=>[e,"function"==typeof t?t(i):t])))),n))r.notNull?r.hasDefault&&(i[e]=i[e].optional()):i[e]=i[e].nullable().optional();return em.z.object(i)}}}]);