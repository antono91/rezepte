(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[117],{6177:function(e,t,r){Promise.resolve().then(r.bind(r,5502))},5502:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var n=r(7437),i=r(1014),o=r(9343),s=r(6463),a=r(7138),u=r(7776),l=r(6661),d=r(495),c=r(3102),f=r(2472),m=r(3673),p=r(3191);let x=f.jn.pick({name:!0});function h(){let e=(0,s.useRouter)();(0,p.NL)();let t=async t=>{let r=await m.L.api.recipes.$post({json:t});if(r.ok){let{data:t}=await r.json();u.Am.success("Added recipe"),e.push("/recipes/".concat(t.id))}else u.Am.error("Failed to add recipe")},r=(0,o.cI)({resolver:(0,i.F)(x)}),{isSubmitting:f,isValid:h}=r.formState;return(0,n.jsx)("div",{className:"max-w-5xl mx-auto py-6 flex md:items-center md:justify-center mt-32",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl",children:"Name your recipe"}),(0,n.jsx)("p",{className:"text-sm text-slate-600",children:"What would you name your recipe? Don't worry you can change this later."}),(0,n.jsx)(l.l0,{...r,children:(0,n.jsxs)("form",{onSubmit:r.handleSubmit(t),className:"space-y-8 mt-8",children:[(0,n.jsx)(l.Wi,{control:r.control,name:"name",render:e=>{let{field:t}=e;return(0,n.jsxs)(l.xJ,{children:[(0,n.jsx)(l.lX,{children:"Recipe Title"}),(0,n.jsx)(l.NI,{children:(0,n.jsx)(c.I,{disabled:f,placeholder:"e.g. Apfelstrudel",...t})}),(0,n.jsx)(l.pf,{children:"What will you cook in this recipe?"}),(0,n.jsx)(l.zG,{})]})}}),(0,n.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,n.jsx)(d.z,{asChild:!0,variant:"ghost",children:(0,n.jsx)(a.default,{href:"/",children:"Cancel"})}),(0,n.jsx)(d.z,{type:"submit",disabled:!h||f,children:"Continue"})]})]})})]})})}},495:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var n=r(7437),i=r(2265),o=r(1538),s=r(2218),a=r(7440);let u=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=i.forwardRef((e,t)=>{let{className:r,variant:i,size:s,asChild:l=!1,...d}=e,c=l?o.g7:"button";return(0,n.jsx)(c,{className:(0,a.cn)(u({variant:i,size:s,className:r})),ref:t,...d})});l.displayName="Button"},6661:function(e,t,r){"use strict";r.d(t,{l0:function(){return c},NI:function(){return v},pf:function(){return y},Wi:function(){return m},xJ:function(){return h},lX:function(){return g},zG:function(){return b}});var n=r(7437),i=r(2265),o=r(1538),s=r(9343),a=r(7440),u=r(8364);let l=(0,r(2218).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(u.f,{ref:t,className:(0,a.cn)(l(),r),...i})});d.displayName=u.f.displayName;let c=s.RV,f=i.createContext({}),m=e=>{let{...t}=e;return(0,n.jsx)(f.Provider,{value:{name:t.name},children:(0,n.jsx)(s.Qr,{...t})})},p=()=>{let e=i.useContext(f),t=i.useContext(x),{getFieldState:r,formState:n}=(0,s.Gc)(),o=r(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:a}=t;return{id:a,name:e.name,formItemId:"".concat(a,"-form-item"),formDescriptionId:"".concat(a,"-form-item-description"),formMessageId:"".concat(a,"-form-item-message"),...o}},x=i.createContext({}),h=i.forwardRef((e,t)=>{let{className:r,...o}=e,s=i.useId();return(0,n.jsx)(x.Provider,{value:{id:s},children:(0,n.jsx)("div",{ref:t,className:(0,a.cn)("space-y-2",r),...o})})});h.displayName="FormItem";let g=i.forwardRef((e,t)=>{let{className:r,...i}=e,{error:o,formItemId:s}=p();return(0,n.jsx)(d,{ref:t,className:(0,a.cn)(o&&"text-destructive",r),htmlFor:s,...i})});g.displayName="FormLabel";let v=i.forwardRef((e,t)=>{let{...r}=e,{error:i,formItemId:s,formDescriptionId:a,formMessageId:u}=p();return(0,n.jsx)(o.g7,{ref:t,id:s,"aria-describedby":i?"".concat(a," ").concat(u):"".concat(a),"aria-invalid":!!i,...r})});v.displayName="FormControl";let y=i.forwardRef((e,t)=>{let{className:r,...i}=e,{formDescriptionId:o}=p();return(0,n.jsx)("p",{ref:t,id:o,className:(0,a.cn)("text-sm text-muted-foreground",r),...i})});y.displayName="FormDescription";let b=i.forwardRef((e,t)=>{let{className:r,children:i,...o}=e,{error:s,formMessageId:u}=p(),l=s?String(null==s?void 0:s.message):i;return l?(0,n.jsx)("p",{ref:t,id:u,className:(0,a.cn)("text-sm font-medium text-destructive",r),...o,children:l}):null});b.displayName="FormMessage"},3102:function(e,t,r){"use strict";r.d(t,{I:function(){return s}});var n=r(7437),i=r(2265),o=r(7440);let s=i.forwardRef((e,t)=>{let{className:r,type:i,...s}=e;return(0,n.jsx)("input",{type:i,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});s.displayName="Input"},2472:function(e,t,r){"use strict";r.d(t,{jn:function(){return d}});var n=r(6701),i=r(7755),o=r(1333),s=r(3157);let a=(0,i.af)("recipes",{id:(0,o.fL)("id").primaryKey(),author:(0,o.fL)("user_id").notNull(),name:(0,o.fL)("name").notNull(),method:(0,o.fL)("method"),img:(0,o.fL)("img_url").notNull().default("https://placehold.co/600x400/png?text=No+Image")}),u=(0,i.af)("ingredients",{id:(0,o.fL)("id").primaryKey(),ingredient:(0,o.fL)("ingredient").notNull().unique()}),l=(0,i.af)("unit",{id:(0,o.fL)("id").primaryKey(),unit:(0,o.fL)("unit").notNull().unique()});(0,i.af)("recipe_ingredient",{id:(0,o.fL)("id").primaryKey(),recipe_id:(0,o.fL)("recipe_id").notNull().references(()=>a.id),ingredient_id:(0,o.fL)("ingredient_id").notNull().references(()=>u.id),unit_id:(0,o.fL)("unit_id").notNull().references(()=>l.id),amount:(0,s.uR)("amount",{precision:6,scale:2}).notNull()});let d=(0,n.fC)(a)},3673:function(e,t,r){"use strict";r.d(t,{L:function(){return n}});let n=(0,r(8342).hc)("http://localhost:3000")},7440:function(e,t,r){"use strict";r.d(t,{cn:function(){return o}});var n=r(4839),i=r(6164);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.m6)((0,n.W)(t))}},3191:function(e,t,r){"use strict";r.d(t,{NL:function(){return s},aH:function(){return a}});var n=r(2265),i=r(7437),o=n.createContext(void 0),s=e=>{let t=n.useContext(o);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},a=e=>{let{client:t,children:r}=e;return n.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,i.jsx)(o.Provider,{value:t,children:r})}}},function(e){e.O(0,[373,138,776,765,751,971,23,744],function(){return e(e.s=6177)}),_N_E=e.O()}]);